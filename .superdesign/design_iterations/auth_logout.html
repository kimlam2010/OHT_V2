<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒêƒÉng xu·∫•t - OHT-50 Robot Control System</title>
    <meta name="description" content="X√°c nh·∫≠n ƒëƒÉng xu·∫•t kh·ªèi h·ªá th·ªëng ƒëi·ªÅu khi·ªÉn robot OHT-50 - Industrial Safety System">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Theme CSS -->
    <link rel="stylesheet" href="auth_theme.css">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
</head>
<body>
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="auth-container">
        <!-- Header -->
        <header class="auth-header">
            <div class="auth-header-content">
                <a href="#" class="auth-logo">
                    <span class="auth-logo-icon">ü§ñ</span>
                    <div>
                        <div class="auth-logo-text">OHT-50</div>
                        <div class="auth-subtitle">Robot Control System</div>
                    </div>
                </a>
                
                <div class="auth-header-actions">
                    <a href="#" class="auth-header-btn">üìû Emergency Contact</a>
                    <a href="#" class="auth-header-btn">üìä System Status</a>
                    <a href="#" class="auth-header-btn emergency">üö® E-STOP</a>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="auth-main" id="main-content">
            <div class="auth-card">
                <div class="auth-card-header">
                    <span class="auth-card-icon">üëã</span>
                    <h1 class="auth-card-title">X√°c nh·∫≠n ƒëƒÉng xu·∫•t</h1>
                    <p class="auth-card-subtitle">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën ƒëƒÉng xu·∫•t kh·ªèi h·ªá th·ªëng?</p>
                </div>
                
                <!-- User Session Info -->
                <div style="margin-bottom: var(--space-xl); padding: var(--space-lg); background: var(--bg-secondary); border-radius: var(--radius-lg); border-left: 4px solid var(--primary-orange);">
                    <h3 style="font-size: var(--text-sm); color: var(--industrial-gray-700); margin-bottom: var(--space-md);">
                        üë§ Th√¥ng tin phi√™n l√†m vi·ªác
                    </h3>
                    <div style="display: grid; gap: var(--space-sm);">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="font-size: var(--text-sm); color: var(--industrial-gray-600);">Ng∆∞·ªùi d√πng:</span>
                            <span style="font-weight: var(--font-semibold); color: var(--industrial-gray-700);">Nguy·ªÖn VƒÉn A</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="font-size: var(--text-sm); color: var(--industrial-gray-600);">Vai tr√≤:</span>
                            <span style="font-weight: var(--font-semibold); color: var(--primary-orange);">K·ªπ s∆∞ ƒëi·ªÅu khi·ªÉn</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="font-size: var(--text-sm); color: var(--industrial-gray-600);">Th·ªùi gian ƒëƒÉng nh·∫≠p:</span>
                            <span style="font-size: var(--text-sm); color: var(--industrial-gray-700);">2 gi·ªù 15 ph√∫t tr∆∞·ªõc</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="font-size: var(--text-sm); color: var(--industrial-gray-600);">Ho·∫°t ƒë·ªông cu·ªëi:</span>
                            <span style="font-size: var(--text-sm); color: var(--industrial-gray-700);">5 ph√∫t tr∆∞·ªõc</span>
                        </div>
                    </div>
                </div>
                
                <!-- Warning Message -->
                <div style="margin-bottom: var(--space-xl); padding: var(--space-md); background: rgba(245, 158, 11, 0.1); border: 1px solid rgba(245, 158, 11, 0.2); border-radius: var(--radius-lg);">
                    <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-sm);">
                        <span style="font-size: var(--text-lg);">‚ö†Ô∏è</span>
                        <h3 style="font-size: var(--text-sm); color: var(--warning-yellow); margin: 0;">L∆∞u √Ω quan tr·ªçng</h3>
                    </div>
                    <p style="font-size: var(--text-xs); color: var(--industrial-gray-600); margin: 0; line-height: 1.4;">
                        ƒêƒÉng xu·∫•t s·∫Ω k·∫øt th√∫c phi√™n l√†m vi·ªác hi·ªán t·∫°i. M·ªçi thay ƒë·ªïi ch∆∞a l∆∞u s·∫Ω b·ªã m·∫•t. 
                        ƒê·∫£m b·∫£o b·∫°n ƒë√£ l∆∞u t·∫•t c·∫£ c√¥ng vi·ªác quan tr·ªçng tr∆∞·ªõc khi ƒëƒÉng xu·∫•t.
                    </p>
                </div>
                
                <!-- Action Buttons -->
                <div style="display: flex; gap: var(--space-md); margin-bottom: var(--space-lg);">
                    <button type="button" class="auth-btn auth-btn-secondary" id="cancelBtn" style="flex: 1;">
                        <span>‚ùå H·ªßy b·ªè</span>
                    </button>
                    <button type="button" class="auth-btn auth-btn-danger" id="logoutBtn" style="flex: 1;">
                        <span>‚úÖ ƒêƒÉng xu·∫•t</span>
                        <span class="auth-loading" id="logoutLoading" style="display: none;"></span>
                    </button>
                </div>
                
                <!-- Quick Actions -->
                <div style="margin-top: var(--space-xl); padding: var(--space-md); background: var(--bg-secondary); border-radius: var(--radius-lg);">
                    <h3 style="font-size: var(--text-sm); color: var(--industrial-gray-700); margin-bottom: var(--space-md);">
                        ‚ö° Thao t√°c nhanh
                    </h3>
                    <div style="display: grid; gap: var(--space-sm);">
                        <button type="button" class="auth-btn auth-btn-secondary" style="justify-content: flex-start; text-align: left;">
                            <span>üíæ L∆∞u phi√™n l√†m vi·ªác</span>
                        </button>
                        <button type="button" class="auth-btn auth-btn-secondary" style="justify-content: flex-start; text-align: left;">
                            <span>üìä Xu·∫•t b√°o c√°o</span>
                        </button>
                        <button type="button" class="auth-btn auth-btn-secondary" style="justify-content: flex-start; text-align: left;">
                            <span>‚öôÔ∏è C√†i ƒë·∫∑t h·ªá th·ªëng</span>
                        </button>
                    </div>
                </div>
                
                <!-- Session Summary -->
                <div style="margin-top: var(--space-lg); padding: var(--space-md); background: rgba(16, 185, 129, 0.05); border: 1px solid rgba(16, 185, 129, 0.2); border-radius: var(--radius-lg);">
                    <h3 style="font-size: var(--text-sm); color: var(--success-green); margin-bottom: var(--space-sm);">
                        üìà T√≥m t·∫Øt phi√™n l√†m vi·ªác
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: var(--space-sm);">
                        <div style="text-align: center;">
                            <div style="font-size: var(--text-lg); font-weight: var(--font-bold); color: var(--success-green);">12</div>
                            <div style="font-size: var(--text-xs); color: var(--industrial-gray-600);">Nhi·ªám v·ª• ho√†n th√†nh</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: var(--text-lg); font-weight: var(--font-bold); color: var(--info-blue);">2h 15m</div>
                            <div style="font-size: var(--text-xs); color: var(--industrial-gray-600);">Th·ªùi gian ho·∫°t ƒë·ªông</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: var(--text-lg); font-weight: var(--font-bold); color: var(--warning-yellow);">0</div>
                            <div style="font-size: var(--text-xs); color: var(--industrial-gray-600);">C·∫£nh b√°o</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="auth-footer">
            <div class="auth-footer-content">
                <div class="auth-footer-links">
                    <a href="#" class="auth-footer-link">üìã H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</a>
                    <a href="#" class="auth-footer-link">üîß H·ªó tr·ª£ k·ªπ thu·∫≠t</a>
                    <a href="#" class="auth-footer-link">üìû Li√™n h·ªá</a>
                    <a href="#" class="auth-footer-link">üìÑ Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
                </div>
                
                <div class="auth-footer-status">
                    <span class="status-indicator"></span>
                    <span>H·ªá th·ªëng ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng</span>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cancelBtn = document.getElementById('cancelBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            const logoutLoading = document.getElementById('logoutLoading');
            
            // Cancel logout
            cancelBtn.addEventListener('click', function() {
                // Go back to previous page or dashboard
                if (document.referrer) {
                    window.history.back();
                } else {
                    window.location.href = 'dashboard.html';
                }
            });
            
            // Confirm logout
            logoutBtn.addEventListener('click', function() {
                if (confirm('üö® B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën ƒëƒÉng xu·∫•t?\n\nM·ªçi thay ƒë·ªïi ch∆∞a l∆∞u s·∫Ω b·ªã m·∫•t.')) {
                    // Show loading state
                    logoutBtn.disabled = true;
                    logoutLoading.style.display = 'inline-block';
                    logoutBtn.querySelector('span:first-child').textContent = 'ƒêang ƒëƒÉng xu·∫•t...';
                    
                    // Simulate logout process
                    setTimeout(() => {
                        // Clear session data (in real app)
                        localStorage.removeItem('userSession');
                        sessionStorage.clear();
                        
                        // Show success message
                        showLogoutSuccess();
                        
                        // Redirect to login page after delay
                        setTimeout(() => {
                            window.location.href = 'auth_login.html';
                        }, 2000);
                        
                    }, 1500);
                }
            });
            
            function showLogoutSuccess() {
                // Create success message
                const successDiv = document.createElement('div');
                successDiv.className = 'auth-alert auth-alert-success';
                successDiv.style.display = 'flex';
                successDiv.innerHTML = `
                    <span>‚úÖ</span>
                    <span>ƒêƒÉng xu·∫•t th√†nh c√¥ng! ƒêang chuy·ªÉn h∆∞·ªõng...</span>
                `;
                
                // Insert after card header
                const cardHeader = document.querySelector('.auth-card-header');
                cardHeader.parentNode.insertBefore(successDiv, cardHeader.nextSibling);
                
                // Animate the message
                successDiv.style.animation = 'slideInDown 0.3s ease-out, pulse 2s ease-in-out 0.3s';
            }
            
            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Escape to cancel
                if (e.key === 'Escape') {
                    cancelBtn.click();
                }
                
                // Enter to confirm logout
                if (e.key === 'Enter') {
                    logoutBtn.click();
                }
            });
            
            // Emergency button
            document.querySelector('.auth-header-btn.emergency').addEventListener('click', function(e) {
                e.preventDefault();
                if (confirm('üö® B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën k√≠ch ho·∫°t E-STOP?\n\nH√†nh ƒë·ªông n√†y s·∫Ω d·ª´ng t·∫•t c·∫£ robot ƒëang ho·∫°t ƒë·ªông.')) {
                    alert('E-STOP ƒë√£ ƒë∆∞·ª£c k√≠ch ho·∫°t! Li√™n h·ªá ngay v·ªõi k·ªπ s∆∞ ƒë·ªÉ x·ª≠ l√Ω.');
                }
            });
            
            // Auto-save session data
            function autoSaveSession() {
                const sessionData = {
                    lastActivity: new Date().toISOString(),
                    userAgent: navigator.userAgent,
                    timestamp: Date.now()
                };
                
                localStorage.setItem('sessionBackup', JSON.stringify(sessionData));
            }
            
            // Auto-save every 30 seconds
            setInterval(autoSaveSession, 30000);
            
            // Save on page unload
            window.addEventListener('beforeunload', function(e) {
                autoSaveSession();
                
                // Show warning if there are unsaved changes
                if (hasUnsavedChanges()) {
                    e.preventDefault();
                    e.returnValue = 'B·∫°n c√≥ thay ƒë·ªïi ch∆∞a l∆∞u. B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën r·ªùi kh·ªèi trang?';
                }
            });
            
            function hasUnsavedChanges() {
                // Check for unsaved changes (implement based on your app logic)
                return false; // Placeholder
            }
            
            // Quick action buttons
            document.querySelectorAll('.auth-btn-secondary').forEach(btn => {
                if (btn.textContent.includes('L∆∞u phi√™n')) {
                    btn.addEventListener('click', function() {
                        autoSaveSession();
                        this.innerHTML = '<span>‚úÖ ƒê√£ l∆∞u</span>';
                        setTimeout(() => {
                            this.innerHTML = '<span>üíæ L∆∞u phi√™n l√†m vi·ªác</span>';
                        }, 2000);
                    });
                }
                
                if (btn.textContent.includes('Xu·∫•t b√°o c√°o')) {
                    btn.addEventListener('click', function() {
                        this.innerHTML = '<span>üìä ƒêang xu·∫•t...</span>';
                        setTimeout(() => {
                            alert('B√°o c√°o ƒë√£ ƒë∆∞·ª£c xu·∫•t th√†nh c√¥ng!');
                            this.innerHTML = '<span>üìä Xu·∫•t b√°o c√°o</span>';
                        }, 2000);
                    });
                }
                
                if (btn.textContent.includes('C√†i ƒë·∫∑t')) {
                    btn.addEventListener('click', function() {
                        window.open('settings.html', '_blank');
                    });
                }
            });
        });
    </script>
    
    <!-- Additional CSS for logout page -->
    <style>
        .auth-alert {
            animation: slideInDown 0.3s ease-out;
        }
        
        @keyframes slideInDown {
            from {
                transform: translateY(-10px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        /* Button hover effects */
        .auth-btn:hover {
            transform: translateY(-1px);
        }
        
        .auth-btn:active {
            transform: translateY(0) scale(0.98);
        }
        
        /* Session info styling */
        .session-info {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            border-left: 4px solid var(--primary-orange);
        }
        
        /* Warning styling */
        .warning-box {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--space-md);
        }
        
        /* Success styling */
        .success-box {
            background: rgba(16, 185, 129, 0.05);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--space-md);
        }
        
        /* Stats grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: var(--space-sm);
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
        }
        
        .stat-label {
            font-size: var(--text-xs);
            color: var(--industrial-gray-600);
        }
        
        /* High contrast mode */
        @media (prefers-contrast: high) {
            .auth-btn {
                border-width: 2px;
            }
            
            .warning-box,
            .success-box {
                border-width: 2px;
            }
        }
        
        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
            .auth-btn:hover {
                transform: none;
            }
            
            .auth-alert {
                animation: none;
            }
        }
    </style>
</body>
</html>
