<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Panel - OHT-50</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- OHT-50 Theme -->
    <link rel="stylesheet" href="../../themes/theme_oht50_unified.css">
    <link rel="stylesheet" href="../../themes/theme_components.css">
    
    <style>
        /* Control Panel Specific Styles */
        .control-container {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: var(--space-lg);
            padding: var(--space-lg);
            min-height: calc(100vh - 80px);
        }
        
        .control-main {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }
        
        .control-sidebar {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }
        
        .control-card {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color-light);
            overflow: hidden;
        }
        
        .control-header {
            background: var(--primary-orange);
            color: white;
            padding: var(--space-lg);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .control-title {
            font-family: var(--font-display);
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            margin: 0;
        }
        
        .control-body {
            padding: var(--space-lg);
        }
        
        /* Manual Controls */
        .directional-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-md);
            max-width: 300px;
            margin: 0 auto;
        }
        
        .directional-controls .btn-forward {
            grid-column: 2;
        }
        
        .directional-controls .btn-left {
            grid-column: 1;
            grid-row: 2;
        }
        
        .directional-controls .btn-stop {
            grid-column: 2;
            grid-row: 2;
        }
        
        .directional-controls .btn-right {
            grid-column: 3;
            grid-row: 2;
        }
        
        .directional-controls .btn-backward {
            grid-column: 2;
            grid-row: 3;
        }
        
        .btn-control {
            width: 80px;
            height: 80px;
            border: none;
            border-radius: var(--radius-lg);
            font-weight: var(--font-bold);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: var(--space-xs);
            cursor: pointer;
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-md);
        }
        
        .btn-control i {
            width: 1.5rem;
            height: 1.5rem;
        }
        
        .btn-forward {
            background: var(--safety-green);
            color: white;
        }
        
        .btn-backward {
            background: var(--safety-orange);
            color: white;
        }
        
        .btn-left, .btn-right {
            background: var(--primary-orange);
            color: white;
        }
        
        .btn-stop {
            background: var(--safety-red);
            color: white;
        }
        
        .btn-control:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-control:active {
            transform: translateY(0);
        }
        
        .btn-control:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Speed Control */
        .speed-control {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
            margin-top: var(--space-lg);
        }
        
        .speed-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--industrial-gray-200);
            outline: none;
            -webkit-appearance: none;
        }
        
        .speed-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-orange);
            cursor: pointer;
        }
        
        .speed-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-orange);
            cursor: pointer;
            border: none;
        }
        
        .speed-presets {
            display: flex;
            gap: var(--space-sm);
            justify-content: center;
        }
        
        .speed-preset {
            padding: var(--space-xs) var(--space-sm);
            border: 1px solid var(--industrial-gray-300);
            border-radius: var(--radius-sm);
            background: var(--bg-primary);
            color: var(--industrial-gray-700);
            cursor: pointer;
            transition: all var(--transition-normal);
        }
        
        .speed-preset.active {
            background: var(--primary-orange);
            color: white;
            border-color: var(--primary-orange);
        }
        
        /* Emergency Controls */
        .emergency-controls {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }
        
        .btn-emergency-large {
            width: 100%;
            height: 60px;
            background: var(--safety-red);
            color: white;
            border: none;
            border-radius: var(--radius-lg);
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            cursor: pointer;
            transition: all var(--transition-normal);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-emergency-large:hover {
            background: #B91C1C;
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }
        
        .btn-emergency-large:active {
            transform: translateY(0);
        }
        
        .btn-emergency-large i {
            width: 1.5rem;
            height: 1.5rem;
        }
        
        /* Status Indicators */
        .status-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-md);
        }
        
        .status-item {
            padding: var(--space-md);
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            border-left: 4px solid var(--industrial-gray-300);
            text-align: center;
        }
        
        .status-item.success {
            border-left-color: var(--safety-green);
        }
        
        .status-item.warning {
            border-left-color: var(--safety-yellow);
        }
        
        .status-item.error {
            border-left-color: var(--safety-red);
        }
        
        .status-label {
            font-size: var(--text-sm);
            color: var(--industrial-gray-600);
            margin-bottom: var(--space-xs);
        }
        
        .status-value {
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
            color: var(--industrial-gray-900);
        }
        
        .status-icon {
            width: 1.5rem;
            height: 1.5rem;
            margin: 0 auto var(--space-xs);
        }
        
        /* Mode Selection */
        .mode-selector {
            display: flex;
            gap: var(--space-sm);
            margin-bottom: var(--space-lg);
        }
        
        .mode-btn {
            flex: 1;
            padding: var(--space-sm) var(--space-md);
            border: 2px solid var(--industrial-gray-300);
            border-radius: var(--radius-md);
            background: var(--bg-primary);
            color: var(--industrial-gray-700);
            cursor: pointer;
            transition: all var(--transition-normal);
            font-weight: var(--font-medium);
        }
        
        .mode-btn.active {
            background: var(--primary-orange);
            color: white;
            border-color: var(--primary-orange);
        }
        
        /* Confirmation Dialog */
        .confirmation-dialog {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-normal);
        }
        
        .confirmation-dialog.show {
            opacity: 1;
            visibility: visible;
        }
        
        .confirmation-content {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: var(--shadow-xl);
        }
        
        .confirmation-title {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            color: var(--safety-red);
            margin-bottom: var(--space-md);
        }
        
        .confirmation-message {
            color: var(--industrial-gray-700);
            margin-bottom: var(--space-lg);
        }
        
        .confirmation-actions {
            display: flex;
            gap: var(--space-md);
            justify-content: center;
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .control-container {
                grid-template-columns: 1fr;
            }
            
            .control-sidebar {
                order: -1;
            }
        }
        
        @media (max-width: 768px) {
            .directional-controls {
                max-width: 250px;
            }
            
            .btn-control {
                width: 60px;
                height: 60px;
            }
            
            .status-grid {
                grid-template-columns: 1fr;
            }
            
            .mode-selector {
                flex-direction: column;
            }
        }
        
        /* Accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--primary-orange);
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: var(--radius-sm);
            z-index: 1001;
        }
        
        .skip-link:focus {
            top: 6px;
        }
        
        /* Focus indicators */
        .btn-control:focus,
        .btn-emergency-large:focus,
        .speed-preset:focus,
        .mode-btn:focus {
            outline: 2px solid var(--primary-orange);
            outline-offset: 2px;
        }
        
        /* High contrast mode */
        @media (prefers-contrast: high) {
            .control-card {
                border: 2px solid var(--industrial-gray-900);
            }
            
            .btn-control {
                border: 2px solid currentColor;
            }
        }
        
        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
            .btn-control,
            .btn-emergency-large,
            .speed-preset,
            .mode-btn,
            .confirmation-dialog {
                transition: none;
            }
        }
    </style>
</head>
<body>
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Page Container -->
    <div class="page-container">
        <!-- Header -->
        <header class="page-header">
            <div class="header-brand">
                <h1>OHT-50 Control Panel</h1>
                <p>Manual Control Interface</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-emergency" onclick="emergencyStop()" aria-label="Emergency Stop">
                    <i data-lucide="alert-triangle"></i>
                    E-STOP
                </button>
            </div>
        </header>
        
        <!-- Main Content -->
        <main id="main-content" class="page-main">
            <div class="control-container">
                <!-- Main Control Area -->
                <div class="control-main">
                    <!-- Manual Controls -->
                    <div class="control-card">
                        <div class="control-header">
                            <h2 class="control-title">Manual Controls</h2>
                            <div class="mode-selector">
                                <button class="mode-btn" data-mode="manual" onclick="setMode('manual')">Manual</button>
                                <button class="mode-btn active" data-mode="auto" onclick="setMode('auto')">Auto</button>
                                <button class="mode-btn" data-mode="semi" onclick="setMode('semi')">Semi</button>
                            </div>
                        </div>
                        <div class="control-body">
                            <div class="directional-controls">
                                <button class="btn-control btn-forward" onclick="moveForward()" aria-label="Move Forward">
                                    <i data-lucide="arrow-up"></i>
                                    <span>Forward</span>
                                </button>
                                <button class="btn-control btn-left" onclick="moveLeft()" aria-label="Move Left">
                                    <i data-lucide="arrow-left"></i>
                                    <span>Left</span>
                                </button>
                                <button class="btn-control btn-stop" onclick="stopMovement()" aria-label="Stop Movement">
                                    <i data-lucide="square"></i>
                                    <span>STOP</span>
                                </button>
                                <button class="btn-control btn-right" onclick="moveRight()" aria-label="Move Right">
                                    <i data-lucide="arrow-right"></i>
                                    <span>Right</span>
                                </button>
                                <button class="btn-control btn-backward" onclick="moveBackward()" aria-label="Move Backward">
                                    <i data-lucide="arrow-down"></i>
                                    <span>Backward</span>
                                </button>
                            </div>
                            
                            <!-- Speed Control -->
                            <div class="speed-control">
                                <label for="speedSlider" class="form-label">Speed Control</label>
                                <input 
                                    type="range" 
                                    id="speedSlider" 
                                    class="speed-slider" 
                                    min="0" 
                                    max="100" 
                                    value="50"
                                    oninput="updateSpeed(this.value)"
                                >
                                <div class="speed-presets">
                                    <button class="speed-preset" onclick="setSpeed(25)">Slow</button>
                                    <button class="speed-preset active" onclick="setSpeed(50)">Normal</button>
                                    <button class="speed-preset" onclick="setSpeed(75)">Fast</button>
                                    <button class="speed-preset" onclick="setSpeed(100)">Max</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Status Display -->
                    <div class="control-card">
                        <div class="control-header">
                            <h2 class="control-title">System Status</h2>
                        </div>
                        <div class="control-body">
                            <div class="status-grid">
                                <div class="status-item success">
                                    <i data-lucide="check-circle" class="status-icon"></i>
                                    <div class="status-label">System Status</div>
                                    <div class="status-value">Online</div>
                                </div>
                                <div class="status-item success">
                                    <i data-lucide="battery" class="status-icon"></i>
                                    <div class="status-label">Battery</div>
                                    <div class="status-value">85%</div>
                                </div>
                                <div class="status-item warning">
                                    <i data-lucide="thermometer" class="status-icon"></i>
                                    <div class="status-label">Temperature</div>
                                    <div class="status-value">42°C</div>
                                </div>
                                <div class="status-item success">
                                    <i data-lucide="wifi" class="status-icon"></i>
                                    <div class="status-label">Connection</div>
                                    <div class="status-value">Stable</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Control Sidebar -->
                <div class="control-sidebar">
                    <!-- Emergency Controls -->
                    <div class="control-card">
                        <div class="control-header">
                            <h2 class="control-title">Emergency Controls</h2>
                        </div>
                        <div class="control-body">
                            <div class="emergency-controls">
                                <button class="btn-emergency-large" onclick="emergencyStop()" aria-label="Emergency Stop">
                                    <i data-lucide="alert-triangle"></i>
                                    EMERGENCY STOP
                                </button>
                                <button class="btn btn-warning btn-full" onclick="pauseSystem()" aria-label="Pause System">
                                    <i data-lucide="pause"></i>
                                    PAUSE
                                </button>
                                <button class="btn btn-secondary btn-full" onclick="resetSystem()" aria-label="Reset System">
                                    <i data-lucide="refresh-cw"></i>
                                    RESET
                                </button>
                                <button class="btn btn-primary btn-full" onclick="homePosition()" aria-label="Go to Home Position">
                                    <i data-lucide="home"></i>
                                    HOME
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Safety Status -->
                    <div class="control-card">
                        <div class="control-header">
                            <h2 class="control-title">Safety Status</h2>
                        </div>
                        <div class="control-body">
                            <div class="status-grid">
                                <div class="status-item success">
                                    <i data-lucide="shield-check" class="status-icon"></i>
                                    <div class="status-label">Safety System</div>
                                    <div class="status-value">Active</div>
                                </div>
                                <div class="status-item success">
                                    <i data-lucide="eye" class="status-icon"></i>
                                    <div class="status-label">Obstacle Detection</div>
                                    <div class="status-value">Clear</div>
                                </div>
                                <div class="status-item success">
                                    <i data-lucide="lock" class="status-icon"></i>
                                    <div class="status-label">Access Control</div>
                                    <div class="status-value">Authorized</div>
                                </div>
                                <div class="status-item success">
                                    <i data-lucide="activity" class="status-icon"></i>
                                    <div class="status-label">Emergency Stop</div>
                                    <div class="status-value">Ready</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="page-footer">
            <p>&copy; 2025 OHT-50. All rights reserved.</p>
        </footer>
    </div>
    
    <!-- Confirmation Dialog -->
    <div class="confirmation-dialog" id="confirmationDialog">
        <div class="confirmation-content">
            <h3 class="confirmation-title" id="dialogTitle">Confirm Action</h3>
            <p class="confirmation-message" id="dialogMessage">Are you sure you want to perform this action?</p>
            <div class="confirmation-actions">
                <button class="btn btn-secondary" onclick="cancelAction()">Cancel</button>
                <button class="btn btn-danger" onclick="confirmAction()">Confirm</button>
            </div>
        </div>
    </div>
    
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        
        // Global variables
        let currentMode = 'auto';
        let currentSpeed = 50;
        let isMoving = false;
        let pendingAction = null;
        
        // Mode selection
        function setMode(mode) {
            currentMode = mode;
            
            // Update button states
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-mode="${mode}"]`).classList.add('active');
            
            // Update control availability
            const controls = document.querySelectorAll('.btn-control');
            controls.forEach(control => {
                if (mode === 'manual') {
                    control.disabled = false;
                } else {
                    control.disabled = true;
                }
            });
            
            // Show status update
            showStatusUpdate(`Mode changed to ${mode.toUpperCase()}`);
        }
        
        // Speed control
        function updateSpeed(value) {
            currentSpeed = parseInt(value);
            document.getElementById('speedSlider').value = value;
            
            // Update preset buttons
            document.querySelectorAll('.speed-preset').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Find closest preset
            const presets = [25, 50, 75, 100];
            const closest = presets.reduce((prev, curr) => {
                return (Math.abs(curr - currentSpeed) < Math.abs(prev - currentSpeed) ? curr : prev);
            });
            
            const presetBtn = document.querySelector(`[onclick="setSpeed(${closest})"]`);
            if (presetBtn) {
                presetBtn.classList.add('active');
            }
            
            showStatusUpdate(`Speed set to ${currentSpeed}%`);
        }
        
        function setSpeed(speed) {
            currentSpeed = speed;
            document.getElementById('speedSlider').value = speed;
            
            // Update preset buttons
            document.querySelectorAll('.speed-preset').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            showStatusUpdate(`Speed set to ${speed}%`);
        }
        
        // Movement controls
        function moveForward() {
            if (currentMode !== 'manual') {
                showStatusUpdate('Manual mode required for movement controls');
                return;
            }
            
            isMoving = true;
            showStatusUpdate(`Moving forward at ${currentSpeed}% speed`);
            
            // Simulate movement
            setTimeout(() => {
                isMoving = false;
                showStatusUpdate('Movement completed');
            }, 2000);
        }
        
        function moveBackward() {
            if (currentMode !== 'manual') {
                showStatusUpdate('Manual mode required for movement controls');
                return;
            }
            
            isMoving = true;
            showStatusUpdate(`Moving backward at ${currentSpeed}% speed`);
            
            setTimeout(() => {
                isMoving = false;
                showStatusUpdate('Movement completed');
            }, 2000);
        }
        
        function moveLeft() {
            if (currentMode !== 'manual') {
                showStatusUpdate('Manual mode required for movement controls');
                return;
            }
            
            isMoving = true;
            showStatusUpdate(`Moving left at ${currentSpeed}% speed`);
            
            setTimeout(() => {
                isMoving = false;
                showStatusUpdate('Movement completed');
            }, 2000);
        }
        
        function moveRight() {
            if (currentMode !== 'manual') {
                showStatusUpdate('Manual mode required for movement controls');
                return;
            }
            
            isMoving = true;
            showStatusUpdate(`Moving right at ${currentSpeed}% speed`);
            
            setTimeout(() => {
                isMoving = false;
                showStatusUpdate('Movement completed');
            }, 2000);
        }
        
        function stopMovement() {
            isMoving = false;
            showStatusUpdate('Movement stopped');
        }
        
        // Emergency controls
        function emergencyStop() {
            showConfirmationDialog(
                'EMERGENCY STOP',
                'Are you sure you want to activate emergency stop? This will halt all systems immediately.',
                () => {
                    isMoving = false;
                    showStatusUpdate('EMERGENCY STOP ACTIVATED - All systems halted');
                    
                    // Update status indicators
                    updateStatusIndicators('error');
                    
                    setTimeout(() => {
                        alert('EMERGENCY STOP: All systems have been safely stopped. Contact system administrator.');
                    }, 1000);
                }
            );
        }
        
        function pauseSystem() {
            showConfirmationDialog(
                'Pause System',
                'Are you sure you want to pause the system?',
                () => {
                    isMoving = false;
                    showStatusUpdate('System paused');
                    updateStatusIndicators('warning');
                }
            );
        }
        
        function resetSystem() {
            showConfirmationDialog(
                'Reset System',
                'Are you sure you want to reset the system? This will restart all systems.',
                () => {
                    showStatusUpdate('System reset initiated');
                    setTimeout(() => {
                        showStatusUpdate('System reset completed');
                        updateStatusIndicators('success');
                    }, 3000);
                }
            );
        }
        
        function homePosition() {
            showConfirmationDialog(
                'Go to Home Position',
                'Are you sure you want to move to home position?',
                () => {
                    isMoving = true;
                    showStatusUpdate('Moving to home position');
                    
                    setTimeout(() => {
                        isMoving = false;
                        showStatusUpdate('Home position reached');
                    }, 5000);
                }
            );
        }
        
        // Confirmation dialog
        function showConfirmationDialog(title, message, onConfirm) {
            document.getElementById('dialogTitle').textContent = title;
            document.getElementById('dialogMessage').textContent = message;
            document.getElementById('confirmationDialog').classList.add('show');
            pendingAction = onConfirm;
        }
        
        function confirmAction() {
            if (pendingAction) {
                pendingAction();
            }
            hideConfirmationDialog();
        }
        
        function cancelAction() {
            hideConfirmationDialog();
        }
        
        function hideConfirmationDialog() {
            document.getElementById('confirmationDialog').classList.remove('show');
            pendingAction = null;
        }
        
        // Status updates
        function showStatusUpdate(message) {
            // Create temporary status message
            const statusDiv = document.createElement('div');
            statusDiv.className = 'alert alert-info';
            statusDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 1000;
                padding: 1rem;
                background: var(--primary-orange);
                color: white;
                border-radius: 0.5rem;
                box-shadow: var(--shadow-lg);
                max-width: 300px;
            `;
            statusDiv.textContent = message;
            
            document.body.appendChild(statusDiv);
            
            // Remove after 3 seconds
            setTimeout(() => {
                statusDiv.remove();
            }, 3000);
        }
        
        // Update status indicators
        function updateStatusIndicators(status) {
            const statusItems = document.querySelectorAll('.status-item');
            statusItems.forEach(item => {
                item.className = `status-item ${status}`;
            });
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            // Emergency stop with Ctrl + E
            if (e.ctrlKey && e.key === 'e') {
                e.preventDefault();
                emergencyStop();
            }
            
            // Movement controls with arrow keys (only in manual mode)
            if (currentMode === 'manual' && !isMoving) {
                switch(e.key) {
                    case 'ArrowUp':
                        e.preventDefault();
                        moveForward();
                        break;
                    case 'ArrowDown':
                        e.preventDefault();
                        moveBackward();
                        break;
                    case 'ArrowLeft':
                        e.preventDefault();
                        moveLeft();
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        moveRight();
                        break;
                    case ' ':
                        e.preventDefault();
                        stopMovement();
                        break;
                }
            }
            
            // Escape key to close confirmation dialog
            if (e.key === 'Escape') {
                hideConfirmationDialog();
            }
        });
        
        // Real-time status updates (simulation)
        setInterval(() => {
            // Simulate battery drain
            const batteryElement = document.querySelector('.status-item:nth-child(2) .status-value');
            let batteryLevel = parseInt(batteryElement.textContent);
            if (batteryLevel > 0 && Math.random() > 0.95) {
                batteryLevel = Math.max(0, batteryLevel - 1);
                batteryElement.textContent = batteryLevel + '%';
                
                if (batteryLevel <= 20) {
                    batteryElement.parentElement.className = 'status-item warning';
                }
            }
            
            // Simulate temperature changes
            const tempElement = document.querySelector('.status-item:nth-child(3) .status-value');
            let temperature = parseInt(tempElement.textContent);
            if (Math.random() > 0.9) {
                temperature = Math.max(20, Math.min(60, temperature + (Math.random() > 0.5 ? 1 : -1)));
                tempElement.textContent = temperature + '°C';
                
                if (temperature > 50) {
                    tempElement.parentElement.className = 'status-item warning';
                } else {
                    tempElement.parentElement.className = 'status-item success';
                }
            }
        }, 5000);
        
        // Initialize
        setMode('auto');
        updateSpeed(50);
    </script>
</body>
</html>
